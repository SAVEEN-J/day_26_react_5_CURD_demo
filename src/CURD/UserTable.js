
import { Link, Route, Routes, useNavigate } from 'react-router-dom';

import { createContext, useEffect } from 'react';
import React, { useState } from 'react'
import axios from 'axios';
import './css/Apps.css'



export const UserDataContext=createContext();


function UserTable() {

  const[tabledata,setTabledata]=useState([]);
 const[tableClick,setTableClick]=useState([]);
 const navigate=useNavigate();

//  const AllDa=useContext(AllDataContext);
// console.log(" user page",tableClick);
  useEffect(() => {
    axios
      .get('http://localhost:3002/UserData/')
      .then(response => setTabledata(response.data));
  },[]);


  // let edithandle=()=>{

  //   navigate('/edit-user')

  // }
  let handleeditClick=(handleeditClickData)=>{
   
    var tableRowClick=handleeditClickData;
   
   if (tableRowClick.id >0) {
  //  let displayblock=document.getElementsByClassName(".hidden")
  document.getElementById("hidden").style.display = "inline-block";

  setTableClick(tableRowClick);
  
    }
  
  }
  return (
    <>
    <UserDataContext.Provider value={{tabledata,setTabledata,tableClick,setTableClick}} >
    {/* <UserDataContext.Provider value={tabledata} > */}

    <div className="container">
    
  {/* <h2 style={{textAlign:'center'}}>Curd Opreation</h2> */}

  <div className="container">
  
   {/* <button type="button" className="btn btn-primary ">Home</button>&nbsp;
    </Link>
    <Link to="/create-user">
    <button type="button" className="btn btn-primary ">Add User</button>&nbsp;
    </Link>
    <Link to="/edit-user"> */}
    {/* <Link >
    <button type="button" className="btn btn-primary " id="hidden" onClick={edithandle} >Edit User</button>
    </Link> */}
         

</div>&nbsp;
<h1>user Table REad dta</h1>
<table className="table table-dark table-hover table-bordered">
    <thead >
      <tr className='justify-content-center text-center'>
        <th>S.no</th>
        <th>Firstname</th>
        <th>Lastname</th>
        <th>Email</th>
      </tr>
    </thead>
    <tbody>
    {tabledata.length >0 ?(
      tabledata.map((data,index)=>(
        <tr key={data.id}  value={data.id} className={ ` tr_${data.id}`}  >
        <td  className={ `text-center td_${data.id}`}  onClick={()=>handleeditClick(data)}>{data.id}</td>
        <td  className={ `text-center td_${data.id}`}  onClick={()=>handleeditClick(data)}> {data.firstname}</td>
        <td  className={ `text-center td_${data.id}`} onClick={()=>handleeditClick(data)}>{data.lastname}</td>
        <td  className={ ` td_${data.id}`} onClick={()=>handleeditClick(data)}>{data.email}</td>
      
      </tr>

      ))
    ):(
      <tr >
          <td></td>
         <td className='text-center' ><h3>NO Record Found</h3></td>
         <td></td>
         <td></td>

      </tr>

     
     
    )}
   
     
    
    </tbody>
  </table>


</div>
      

   {/* <Routes>
    */}
    {/* <Route path='/home' element={ <Dashboardcurd/>} />
      <Route path='/create-user' element={ <CreateUser />} />
      <Route path='/edit-user' element={ <EditUser />} /> */}

   {/* </Routes> */}
  
   </UserDataContext.Provider>
 
     
    </>
  )
}

export default UserTable;





























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































 