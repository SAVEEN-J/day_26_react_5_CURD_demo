import './css/Apps.css'
import React, {useContext, useEffect, useRef, useState } from 'react'
import {useNavigate, useParams } from 'react-router-dom';
import axios from 'axios';
import { Container, Row ,Col } from 'react-bootstrap';
import { AllDataContext } from '..';



//READ DATA
function UserTable() {

  
  //use context 
const{handleeditClick,trhandleClick, setTableClick,tabledata,setTabledata}=useContext(AllDataContext);
//  const[tabledata,setTabledata]=useState([]);
// console.log("setTableClick");
//  const {id}=useParams();
//  console.log("useParams",id);

// const[tableClick,setTableClick]=useState([]);

//  console.log("tableClick",tableClick);
//  console.log("setTableClick",setTableClick);

// console.log("tabledata user ",tabledata);
  // let edithandle=()=>{

  //   navigate('/edit-user')

  // }


  // useEffect(() => {
  //   axios
  //     .get('http://localhost:3005/UserData/')
  //     .then(response => setTabledata(response.data));
  // },[]);
  // let handleeditClick=(handleeditClickData)=>{
   
  //    var tableRowClick=handleeditClickData;
  // //  console.log("log",tableRowClick);
   
  //  if (tableRowClick.id >0) {
  // //  let displayblock=document.getElementsByClassName(".hidden")
  // document.getElementById("hidden").style.display = "inline-block";
  // setTableClick(tableRowClick)
  //   }
     
  // }
// console.log("tabledata",tabledata);

  return (
 
  <Container>
<Row>  
    <Col  md={{ span: 6, offset: 3 }}>
    <h2>User Data</h2>
    </Col>
  


</Row>
 
   

<Row>.
<table className="table table-dark table-hover table-bordered">
    <thead >
      <tr className='justify-content-center text-center'>
        <th>S.no</th>
        <th>Firstname</th>
        <th>Lastname</th>
        <th>Email</th>
       <th style={{visibility:"hidden",border: "none",display:"none"}}>UniqeId</th>

      </tr>
    </thead>
    <tbody>
    {tabledata.length >0 ?(
      tabledata.map((data,index)=>(
      //   <tr key={data.id}  value={data.id} className={ ` tr_${data.id}`}  >
      //   <td  className={ `text-center td_${data.id}`} value={data.id} onClick={()=>handleeditClick(data)}>{data.id}</td>
      //   <td  className={ `text-center td_${data.id}`} value={data.firstname} onClick={()=>handleeditClick(data)}> {data.firstname}</td>
      //   <td  className={ `text-center td_${data.id}`} value={data.lastname} onClick={()=>handleeditClick(data)}>{data.lastname}</td>
      //   <td  className={ `text-center td_${data.id}`} value={data.email} onClick={()=>handleeditClick(data)}>{data.email}</td>
      
      // </tr>
      <tr key={data.id}  value={data.id} className={ ` tr_${data.id}`}onClick={()=>trhandleClick(data)} >
            <td  className={ `text-center td_${data.id}`} >{data.id}</td>
      <td  className={ `text-center td_${data.id}`} > {data.firstname}</td>
      <td  className={ `text-center td_${data.id}`} >{data.lastname}</td>
      <td  className={ `text-center td_${data.id}`} >{data.email}</td>
      <td  className={ `text-center td_${data.id}`} style={{visibility:"hidden",border: "none",display:"none"}} >{data.id}</td>
    
    </tr>

      ))
    ):(
      <tr >
         <td></td>
         <td className='text-center' ><h3>NO Record Found</h3></td>
         <td></td>
         <td></td>

      </tr>
    )}
       </tbody>
  </table>
  </Row>
  </Container>
  
  )
}
export default UserTable;





























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































 